#PROJECT SETTINGS
#no '' or "" on string objects!!!

[backend]
#torch or keras
backend = torch

[feature_extraction]
#global
#stft/cqt/mfcc/mel/spectrum_fast
features_type = spectrum_fast
power_law_compression = False

#in seconds
sequence_length = 1.
sequence_overlap = 1.
segmentation = True
augmentation = False
#how many augmented files per every original one
num_aug_samples = 2
normalization = False

#spectrum
window_size = 1024
fft_size = 1024
hop_size_stft = 512
window_type = hann

# cqt (log-spectrum)
hop_size_cqt = 256
bins_per_octave = 24
n_bins = 168
fmin = 55

#mfcc
window_size_mfcc = 512
fft_size_mfcc = 512
hop_size_mfcc = 256
window_type_mfcc = hann
n_mfcc = 40

#mel spectrum
hop_size_mel = 512
fft_size_mel = 2048


[sampling]
#Target sr
sr_target = 16000

[augmentation]
augmentation_backgroundnoise_path = ../augmentation_utils/background_noise.wav
augmentation_IRs_path = ../augmentation_utils/IRs

[pretraining]
pretraining_dataset_path = ../dataset/matrices
preprocessing_ID = 4sec_inv
num_classes_librispeech = 1000
num_cnn_layers = 16
sequence_length = 1

[preprocessing]
#I/O PREPROCESSING PATHS
input_iemocap_folder = ../../shared_datasets/iemocap
input_goodsounds_folder = ../../shared_datasets/good-sounds
input_nsynth_folder = ../../shared_datasets/nsynth
input_librispeech_folder = ../../shared_datasets/LibriSpeech
input_gsc_raw_folder = ../../shared_datasets/speechCmd/data
augmented_gsc_folder = ../../shared_datasets/speechCmd/augmented/
input_noisyspeech_repo = ../../shared_datasets/MS-SNSD/
generated_noisyspeech_folder = ../../shared_datasets/MS-SNSD/noisy_selected
input_morphomnist_folder = ../../shared_datasets/morphomnist/thinning_thickening

#output folder for all datasets
output_folder =  ../dataset/matrices/

[training_defaults]
train_split = 0.7
validation_split = 0.2
test_split = 0.1
shuffle_training_data = True
save_best_model_metric = val_loss
save_best_model_mode = min
gpu_ID = 1
reshaping_type = cnn
early_stopping = True
patience = 5
batch_size = 30
num_epochs = 1
regularization_lambda = 0.0
learning_rate = 0.00005
choose_optimizer = adam
pretrained_models_folder = ../models
recompute_matrices = False

#anti transfer parameters
anti_transfer = True
at_librispeech_model_path = ../pretraining_vgg/librispeech/4secs_inv/model
at_iemocap_model_path = ../pretraining_vgg/iemocap/first/model
at_nsynth_model_path = ../pretraining_vgg/nsynth/6secs/model
at_goodsounds_model_path = ../pretraining_vgg/goodsounds/first/model
at_noisyspeech_model_path = ../pretraining_vgg/noisyspeech/first/model
at_iemocap_1sec_model_path = ../pretraining_vgg/iemocap_1sec/first/model
at_gsc_preiemo_model_path = ../pretraining_vgg/gsc_preiemo/model
at_gsc_prenoisy_model_path = ../pretraining_vgg/gsc_prenoisy/model
at_morphomnist_morpholabel_path = ../pretraining_vgg/morphomnist_morpholabel/first/model

pretraining_classes_librispeech = 1000
pretraining_classes_iemocap = 5
pretraining_classes_nsynth = 11
pretraining_classes_goodsounds = 12
pretraining_classes_noisyspeech = 11
pretraining_classes_iemocap_1sec = 4
pretraining_classes_gsc_preiemo = 10
pretraining_classes_gsc_prenoisy = 10
pretraining_classes_morphomnist_morpholabel = 6

at_beta = 1.
at_layer = 28
at_aggregation = gram
at_distance = cos_squared
at_pretraining = False
